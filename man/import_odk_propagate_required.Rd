% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/odk_import.R
\name{import_odk_propagate_required}
\alias{import_odk_propagate_required}
\title{Importar XLSForm ODK y propagar relevancias de grupos (filtrando obligatorias)}
\usage{
import_odk_propagate_required(
  path,
  sheet = NULL,
  select_regex = "^select",
  extra_types = c("integer", "begin group", "end group", "text"),
  drop_begin_end = TRUE,
  required_value = "TRUE"
)
}
\arguments{
\item{path}{Ruta al archivo XLS/XLSX del formulario ODK.}

\item{sheet}{(opcional) Nombre o índice de hoja a leer. Default: primero.}

\item{select_regex}{Regex para tipos que empiezan con "select". Default: \code{"^select"}.}

\item{extra_types}{Tipos adicionales a conservar. Default: \code{c("integer","begin group","end group","text")}.}

\item{drop_begin_end}{Si \code{TRUE}, remueve filas \code{begin group}/\code{end group}. Default: \code{TRUE}.}

\item{required_value}{Cadena que indica cómo se marcó "obligatorio" en la columna
\code{required}. Usar típicamente \code{"TRUE"} o \code{"yes"} (no sensible a mayúsculas/minúsculas).
Default: \code{"TRUE"}.}
}
\value{
\code{data.frame} con columnas \code{type, name, label, required, relevance, constraint},
donde \code{relevance} es la relevancia propagada. Sólo incluye preguntas obligatorias.
}
\description{
Lee el archivo ODK (XLS/XLSX), filtra tipos relevantes y propaga las
condiciones de \code{relevance} desde \emph{begin group} hasta su \emph{end group}
correspondiente (emparejando por \code{name}), concatenando con \code{" and "}
y respetando anidamientos. Luego filtra para dejar sólo las preguntas
marcadas como obligatorias según \code{required_value}.
}
\examples{
# out <- import_odk_propagate_required("ruta/al/formulario.xlsx", required_value = "yes")

}
